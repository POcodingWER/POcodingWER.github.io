---
layout: post
title: "[JS] ì‹¬ë³¼(Symbol)"

subtitle: "javaScript ê¸°ì´ˆë¥¼ íƒ„íƒ„í•˜ê²Œ ë‹¤ì ¸ë³´ì"

date: 2024-12-20 13:20:17
# lastmod: 2024-08-14 10:10:00
author: "lim.Chuck"

# header-style: text

catalog: true
header-mask: 0.4
header-img: "img/post/2024/1206/js.png"
#
# sitemap:
#   changefreq: daily #ìŠ¤í¬ë© ì£¼ê¸°  daily | weekly | monthly
#   priority: 1.0  # ìŠ¤í¬ë© ìš°ì„ ìˆœìœ„
# hidden: true
categories:
  - JavaScript
tags:
  - js ê¸°ì´ˆ
  - js ë¬¸ë²•
  - js ê¸°ì´ˆ ë¬¸ë²•
  - js symbol
---

{% include post/js_contents.md %}

ì‹¬ë³¼(Symbol)ì€ ìœ ì¼í•œ ì‹ë³„ìë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” íŠ¹ë³„í•œ íƒ€ì…ì´ì•¼! ğŸ¯

### 1. ì‹¬ë³¼ ê¸°ë³¸

```javascript
// ì‹¬ë³¼ ë§Œë“¤ê¸°
const mySymbol = Symbol();
const mySymbol2 = Symbol("ì„¤ëª…"); // ì„¤ëª…ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ

// ê° ì‹¬ë³¼ì€ ìœ ì¼í•¨!
const sym1 = Symbol("test");
const sym2 = Symbol("test");
console.log(sym1 === sym2); // false

// ê°ì²´ì˜ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©
const obj = {
  [sym1]: "ê°’1",
  [sym2]: "ê°’2",
};

console.log(obj[sym1]); // "ê°’1"
console.log(obj[sym2]); // "ê°’2"
```

### 2. Symbol.for() - ì „ì—­ ì‹¬ë³¼

```javascript
// ì „ì—­ ì‹¬ë³¼ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ì‹¬ë³¼ ìƒì„±/ê²€ìƒ‰
const globalSym1 = Symbol.for("myKey");
const globalSym2 = Symbol.for("myKey");

console.log(globalSym1 === globalSym2); // true

// ì‹¬ë³¼ì˜ í‚¤ ê°€ì ¸ì˜¤ê¸°
console.log(Symbol.keyFor(globalSym1)); // "myKey"

// ì¼ë°˜ ì‹¬ë³¼ì€ í‚¤ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ
const localSym = Symbol("myKey");
console.log(Symbol.keyFor(localSym)); // undefined
```

### 3. ìˆ¨ê²¨ì§„ í”„ë¡œí¼í‹°ë¡œ ì‚¬ìš©

```javascript
const LEVEL = Symbol("level");
const HP = Symbol("hp");

class Game {
  constructor() {
    this[LEVEL] = 1; // ì‹¬ë³¼ì„ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©
    this[HP] = 100;
  }

  powerUp() {
    this[LEVEL]++;
    this[HP] += 50;
    console.log(`íŒŒì›Œì—…! ë ˆë²¨: ${this[LEVEL]}, HP: ${this[HP]}`);
  }
}

const game = new Game();
game.powerUp(); // "íŒŒì›Œì—…! ë ˆë²¨: 2, HP: 150"

// ì‹¬ë³¼ í”„ë¡œí¼í‹°ëŠ” ì¼ë°˜ì ì¸ ë°©ë²•ìœ¼ë¡œëŠ” ë³´ì´ì§€ ì•ŠìŒ
console.log(Object.keys(game)); // []
console.log(Object.getOwnPropertyNames(game)); // []

// ì‹¬ë³¼ í”„ë¡œí¼í‹° ë³´ê¸°
console.log(Object.getOwnPropertySymbols(game)); // [Symbol(level), Symbol(hp)]
```

### 4. ë‚´ì¥ ì‹¬ë³¼ (Well-known Symbols)

```javascript
class Collection {
  constructor() {
    this.items = [];
  }

  // Symbol.iteratorë¥¼ êµ¬í˜„í•˜ì—¬ ë°˜ë³µ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¦
  [Symbol.iterator]() {
    let index = 0;
    return {
      next: () => {
        if (index < this.items.length) {
          return { value: this.items[index++], done: false };
        }
        return { done: true };
      },
    };
  }

  // Symbol.toPrimitiveë¡œ í˜•ë³€í™˜ ë™ì‘ ì •ì˜
  [Symbol.toPrimitive](hint) {
    if (hint === "number") {
      return this.items.length;
    }
    return this.items.join(", ");
  }
}

const collection = new Collection();
collection.items = ["ğŸ", "ğŸŒ", "ğŸŠ"];

// iterator ì‚¬ìš©
for (let item of collection) {
  console.log(item); // ğŸ, ğŸŒ, ğŸŠ
}

// toPrimitive ì‚¬ìš©
console.log(+collection); // 3
console.log(`${collection}`); // "ğŸ, ğŸŒ, ğŸŠ"
```

### 5. ì‹¤ì „ ì˜ˆì œ: í”„ë¼ì´ë¹— í”„ë¡œí¼í‹° êµ¬í˜„

```javascript
const privateProps = new WeakMap();

class Player {
  constructor(name) {
    // í”„ë¼ì´ë¹— ë°ì´í„° ì €ì¥
    privateProps.set(this, {
      name: name,
      hp: 100,
      mp: 50,
    });
  }

  get status() {
    const props = privateProps.get(this);
    return `
            ì´ë¦„: ${props.name}
            HP: ${"â¤ï¸".repeat(props.hp / 20)}
            MP: ${"ğŸ’™".repeat(props.mp / 10)}
        `;
  }

  useSkill(skillName) {
    const props = privateProps.get(this);
    const mpCost = {
      íŒŒì´ì–´ë³¼: 30,
      íë§: 20,
    };

    if (props.mp >= mpCost[skillName]) {
      props.mp -= mpCost[skillName];
      console.log(`${skillName} ì‚¬ìš©! (MP: ${props.mp})`);
      return true;
    }
    return false;
  }
}

const player = new Player("ë§ˆë²•ì‚¬");
console.log(player.status);
player.useSkill("íŒŒì´ì–´ë³¼");
```

### ê¿€íŒ! ğŸ¯

1. ì‹¬ë³¼ ì‚¬ìš© ì‹œê¸°

```javascript
// 1. ìœ ë‹ˆí¬í•œ í”„ë¡œí¼í‹° í‚¤ê°€ í•„ìš”í•  ë•Œ
const uniqueKey = Symbol("ì„¤ëª…");

// 2. í”„ë¼ì´ë¹— ë°ì´í„°ë¥¼ ë§Œë“¤ ë•Œ
const _private = Symbol("private");
obj[_private] = "ë¹„ë°€ ë°ì´í„°";

// 3. ë‚´ì¥ ë™ì‘ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ë•Œ
class MyArray {
  [Symbol.iterator]() {
    // ì»¤ìŠ¤í…€ ë°˜ë³µ ë™ì‘
  }
}
```

ì´ì œ ì‹¬ë³¼ì€ ë§ˆìŠ¤í„°! ğŸ˜
ìœ ë‹ˆí¬í•œ ê°’ì´ í•„ìš”í•˜ê±°ë‚˜ í”„ë¼ì´ë¹—í•œ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´!
