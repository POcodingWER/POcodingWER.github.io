---
layout: post
title: "[React] preact ì•Œì•„ë³´ê¸° (cc.Signals)"

subtitle: "preact vs react ë¹„êµ ë° signals ì‚¬ìš©ë²• ì˜ˆì œ"

date: 2025-03-19 09:57:37
# lastmod: 2024-08-14 10:10:00
author: "lim.Chuck"

# header-style: text

catalog: true
header-mask: 0.4
header-img: "img/post/2025/03/preact.png"
#
# sitemap:
#   changefreq: daily #ìŠ¤í¬ë© ì£¼ê¸°  daily | weekly | monthly
#   priority: 1.0  # ìŠ¤í¬ë© ìš°ì„ ìˆœìœ„
# hidden: true
categories:
  - ReactGuide
tags:
  - React
  - preact
  - preact signals
  - ë¼ì´ë¸ŒëŸ¬ë¦¬
  - ë¹„êµ
  - ì˜ˆì œ
  - signals
---

{% include post/react/contents.md %}

{% raw %}

# 1. ğŸ”„ React vs Preact ë¹„êµí‘œ

### ğŸ“Š ê¸°ë³¸ íŠ¹ì„± ë¹„êµ

| íŠ¹ì„±                      | React                  | Preact                                      |
| ------------------------- | ---------------------- | ------------------------------------------- |
| **ğŸ“¦ ë²ˆë“¤ í¬ê¸°**          | ì•½ 40KB (gzip ì••ì¶• í›„) | ì•½ 3-4KB (gzip ì••ì¶• í›„)                     |
| **ğŸ’¾ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**      | ìƒëŒ€ì ìœ¼ë¡œ ë†’ìŒ        | ë‚®ìŒ (Reactì˜ ì•½ 1/3)                       |
| **âš¡ ë Œë”ë§ ì„±ëŠ¥**        | ìš°ìˆ˜                   | ì¼ë¶€ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ Reactë³´ë‹¤ ë¹ ë¦„            |
| **ğŸ¢ ê°œë°œ ì§€ì›**          | Meta(Facebook)         | ì˜¤í”ˆì†ŒìŠ¤ ì»¤ë®¤ë‹ˆí‹° ì¤‘ì‹¬                      |
| **ğŸ“ˆ í•™ìŠµ ê³¡ì„ **          | ìƒëŒ€ì ìœ¼ë¡œ ê°€íŒŒë¦„      | ê°„ë‹¨í•¨                                      |
| **ğŸ”„ ê°€ìƒ DOM**           | ì™„ì „í•œ êµ¬í˜„            | ê°„ì†Œí™”ëœ êµ¬í˜„                               |
| **ğŸ–±ï¸ í•©ì„± ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ** | ì™„ì „ ì§€ì›              | ì œí•œì  ì§€ì› (ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ ì´ë²¤íŠ¸ ì‚¬ìš©) |
| **â±ï¸ Concurrent Mode**    | ì§€ì›                   | ë¯¸ì§€ì›                                      |
| **â³ Suspense**           | ì§€ì›                   | ì œí•œì  ì§€ì›                                 |
| **ğŸª Hooks**              | ëª¨ë“  í›… ì§€ì›           | ëŒ€ë¶€ë¶„ì˜ ê¸°ë³¸ í›… ì§€ì›                       |
| **ğŸ”„ Context API**        | ì§€ì›                   | ì§€ì›                                        |
| **ğŸ§© Fragments**          | ì§€ì›                   | ì§€ì›                                        |

### âš–ï¸ ì¥ë‹¨ì  ìš”ì•½

| ë¼ì´ë¸ŒëŸ¬ë¦¬    | ì£¼ìš” ì¥ì                                                                                                           | ì£¼ìš” ë‹¨ì                                                                                              |
| ------------- | ------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------- |
| **âš›ï¸ React**  | â€¢ ğŸ› ï¸ í’ë¶€í•œ ê¸°ëŠ¥<br>â€¢ ğŸŒ ê±°ëŒ€í•œ ìƒíƒœê³„<br>â€¢ ğŸš€ ì§€ì†ì ì¸ í˜ì‹ <br>â€¢ ğŸ‘¥ ê°•ë ¥í•œ ì»¤ë®¤ë‹ˆí‹° ì§€ì›<br>â€¢ ğŸ¢ ëŒ€ê·œëª¨ ì•±ì— ì í•© | â€¢ ğŸ“¦ ìƒëŒ€ì ìœ¼ë¡œ í° ë²ˆë“¤ ì‚¬ì´ì¦ˆ<br>â€¢ ğŸ’¾ ë†’ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰<br>â€¢ ğŸ§© ë³µì¡í•œ API<br>â€¢ âš™ï¸ ì´ˆê¸° ì„¤ì • ë³µì¡ì„± |
| **âš¡ Preact** | â€¢ ğŸª¶ ë§¤ìš° ì‘ì€ ë²ˆë“¤ ì‚¬ì´ì¦ˆ<br>â€¢ ğŸš€ ë†’ì€ ì„±ëŠ¥<br>â€¢ ğŸ’¾ ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰<br>â€¢ ğŸ”„ ê°„ë‹¨í•œ API<br>â€¢ â™»ï¸ React í˜¸í™˜ì„±    | â€¢ âš ï¸ ì œí•œëœ ê¸°ëŠ¥ ì„¸íŠ¸<br>â€¢ ğŸ‘ª ì‘ì€ ì»¤ë®¤ë‹ˆí‹°<br>â€¢ â±ï¸ ìµœì‹  React ê¸°ëŠ¥ ì§€ì—°<br>â€¢ ğŸ—ï¸ ë³µì¡í•œ ì•±ì—ì„œ ì œí•œì  |

# 2.ğŸ”„ Reactì— ì—†ê³  Preactë§Œ ìˆëŠ” Signals: ìƒíƒœ ê´€ë¦¬ì˜ ìƒˆë¡œìš´ ì ‘ê·¼ë²•

PreactëŠ” Reactì˜ ê¸°ë³¸ ê¸°ëŠ¥ì„ ë„˜ì–´ì„œëŠ” ëª‡ ê°€ì§€ ê³ ìœ í•œ ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ì—ì„œë„ ê°€ì¥ ì£¼ëª©í•  ë§Œí•œ ê²ƒì€ **Signals**ì…ë‹ˆë‹¤!

**Preact Signalsì´ë€?**

SignalsëŠ” Preact íŒ€ì´ ê°œë°œí•œ ë°˜ì‘í˜• í”„ë¦¬ë¯¸í‹°ë¸Œë¡œ, Reactì˜ useStateë‚˜ Contextì™€ëŠ” ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ëŠ” ìƒíƒœ ë³€ê²½ ì‹œ ì „ì²´ ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹Œ ì‹¤ì œë¡œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸í•˜ëŠ” ë” ì„¸ë°€í•œ ì ‘ê·¼ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤.

### ì£¼ìš” ì¥ì :

- ğŸ¯ **ì„¸ë°€í•œ ì—…ë°ì´íŠ¸**: ê°€ìƒ DOM ì¬ì¡°ì •ì„ ê±´ë„ˆë›°ê³  ë³€ê²½ëœ DOM ë…¸ë“œì— ì§ì ‘ ì—…ë°ì´íŠ¸
- âš¡ **ì„±ëŠ¥ ìµœì í™”**: memoë‚˜ useMemo ì—†ì´ë„ ë Œë”ë§ ìµœì í™”
- ğŸ§© **ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ ìƒíƒœ**: ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì™¸ë¶€ì—ì„œ ìƒíƒœ ì •ì˜ ê°€ëŠ¥
- ğŸ” **ìë™ ì˜ì¡´ì„± ì¶”ì **: useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ì²˜ëŸ¼ ìˆ˜ë™ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ì„ ì–¸í•  í•„ìš” ì—†ìŒ

## ğŸ’» Signals ì„¤ì¹˜ ë° ê¸°ë³¸ ì‚¬ìš©ë²•

```bash
# Preact Signals ì„¤ì¹˜
npm install @preact/signals
# ë˜ëŠ”
yarn add @preact/signals
```

### ê¸°ë³¸ ì‚¬ìš© ì˜ˆì œ

```jsx
import { h } from "preact";
import { signal } from "@preact/signals";

// ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ìƒíƒœ ì •ì˜ ê°€ëŠ¥
const count = signal(0);

function Counter() {
  // .valueë¡œ ê°’ì— ì ‘ê·¼í•˜ê³  ìˆ˜ì •
  const increment = () => count.value++;

  return (
    <div>
      {/* ìë™ìœ¼ë¡œ ê°’ ë³€ê²½ ì‹œ ì—…ë°ì´íŠ¸ë¨ */}
      <p>ì¹´ìš´íŠ¸: {count}</p>
      <button onClick={increment}>ì¦ê°€</button>
    </div>
  );
}

export default Counter;
```

## ğŸ”§ ê³ ê¸‰ Signals ê¸°ëŠ¥

### 1. computed Signals (ê³„ì‚°ëœ ì‹œê·¸ë„)

```jsx
import { h } from "preact";
import { signal, computed } from "@preact/signals";

const count = signal(0);
// computedëŠ” ì˜ì¡´ì„± ì‹œê·¸ë„ì´ ë³€ê²½ë  ë•Œë§Œ ì¬ê³„ì‚°ë¨
const doubled = computed(() => count.value * 2);
const isEven = computed(() => count.value % 2 === 0);

function Counter() {
  return (
    <div>
      <p>ì¹´ìš´íŠ¸: {count}</p>
      <p>2ë°°: {doubled}</p>
      <p>ì§ìˆ˜?: {isEven ? "ë„¤" : "ì•„ë‹ˆì˜¤"}</p>
      <button onClick={() => count.value++}>ì¦ê°€</button>
    </div>
  );
}
```

### 2. effect í•¨ìˆ˜ (ë°˜ì‘í˜• ì´í™íŠ¸)

```jsx
import { h } from "preact";
import { signal, effect } from "@preact/signals";

const count = signal(0);
const name = signal("ì‚¬ìš©ì");

// ì˜ì¡´í•˜ëŠ” signalì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìë™ ì‹¤í–‰
effect(() => {
  console.log(`${name.value}ì˜ ì¹´ìš´íŠ¸: ${count.value}`);
  // ì˜ì¡´ì„± ë°°ì—´ì´ í•„ìš” ì—†ìŒ!
});

function UserCounter() {
  return (
    <div>
      <input
        value={name.value}
        onInput={(e) => (name.value = e.target.value)}
      />
      <p>
        {name}ì˜ ì¹´ìš´íŠ¸: {count}
      </p>
      <button onClick={() => count.value++}>ì¦ê°€</button>
    </div>
  );
}
```

### 3. batch í•¨ìˆ˜ (ì¼ê´„ ì—…ë°ì´íŠ¸)

```jsx
import { h } from "preact";
import { signal, batch } from "@preact/signals";

const firstName = signal("í™");
const lastName = signal("ê¸¸ë™");
const age = signal(30);

function UserProfile() {
  const updateUser = () => {
    // ì—¬ëŸ¬ signal ì—…ë°ì´íŠ¸ë¥¼ í•˜ë‚˜ì˜ ë Œë”ë§ìœ¼ë¡œ ì¼ê´„ ì²˜ë¦¬
    batch(() => {
      firstName.value = "ê¹€";
      lastName.value = "ì² ìˆ˜";
      age.value = 25;
    });
  };

  return (
    <div>
      <p>
        ì´ë¦„: {firstName} {lastName}
      </p>
      <p>ë‚˜ì´: {age}</p>
      <button onClick={updateUser}>ì—…ë°ì´íŠ¸</button>
    </div>
  );
}
```

## ğŸ§° Signalsì™€ Hooks í•¨ê»˜ ì‚¬ìš©í•˜ê¸°

PreactëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ Signalsë¥¼ ë” ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í›…ì„ ì œê³µí•©ë‹ˆë‹¤:

```jsx
import { h } from "preact";
import { useSignal, useComputed } from "@preact/signals";

function TodoApp() {
  // ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ Signal ì‚¬ìš©
  const newTodo = useSignal("");
  const todos = useSignal([]);

  // ê³„ì‚°ëœ ê°’
  const completedCount = useComputed(
    () => todos.value.filter((todo) => todo.completed).length
  );

  const addTodo = () => {
    if (newTodo.value.trim()) {
      todos.value = [
        ...todos.value,
        {
          text: newTodo.value,
          completed: false,
        },
      ];
      newTodo.value = "";
    }
  };

  const toggleTodo = (index) => {
    const newTodos = [...todos.value];
    newTodos[index].completed = !newTodos[index].completed;
    todos.value = newTodos;
  };

  return (
    <div>
      <h1>í•  ì¼ ëª©ë¡</h1>

      <div>
        <input
          value={newTodo.value}
          onInput={(e) => (newTodo.value = e.target.value)}
          placeholder="í•  ì¼ ì…ë ¥"
        />
        <button onClick={addTodo}>ì¶”ê°€</button>
      </div>

      <ul>
        {todos.value.map((todo, i) => (
          <li
            key={i}
            onClick={() => toggleTodo(i)}
            style={{ textDecoration: todo.completed ? "line-through" : "none" }}
          >
            {todo.text}
          </li>
        ))}
      </ul>

      <div>
        ì™„ë£Œ: {completedCount} / {todos.value.length}
      </div>
    </div>
  );
}
```

## ğŸŒ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ì˜ˆì œ

SignalsëŠ” Reduxë‚˜ Context API ì—†ì´ë„ ì „ì—­ ìƒíƒœ ê´€ë¦¬ë¥¼ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```jsx
// store.js - ì „ì—­ ìƒíƒœ ì •ì˜
import { signal, computed } from "@preact/signals";

export const theme = signal("light");
export const user = signal({ name: "ê²ŒìŠ¤íŠ¸", isLoggedIn: false });
export const cart = signal([]);

export const cartTotal = computed(() =>
  cart.value.reduce((sum, item) => sum + item.price * item.quantity, 0)
);

export const login = (name) => {
  user.value = { name, isLoggedIn: true };
};

export const logout = () => {
  user.value = { name: "ê²ŒìŠ¤íŠ¸", isLoggedIn: false };
};

export const toggleTheme = () => {
  theme.value = theme.value === "light" ? "dark" : "light";
};
```

```jsx
// App.js - ì „ì—­ ìƒíƒœ ì‚¬ìš©
import { h } from "preact";
import { theme, user, toggleTheme, login, logout } from "./store";

function App() {
  return (
    <div className={`app ${theme.value}`}>
      <header>
        {user.value.isLoggedIn ? (
          <button onClick={logout}>ë¡œê·¸ì•„ì›ƒ ({user.value.name})</button>
        ) : (
          <button onClick={() => login("ì‚¬ìš©ì")}>ë¡œê·¸ì¸</button>
        )}
        <button onClick={toggleTheme}>
          {theme.value === "light" ? "ğŸŒ™" : "â˜€ï¸"}
        </button>
      </header>

      <main>
        <h1>Preact Signals ì „ì—­ ìƒíƒœ ì˜ˆì œ</h1>
        <p>í˜„ì¬ í…Œë§ˆ: {theme}</p>
        <p>ì‚¬ìš©ì: {user.value.name}</p>
      </main>
    </div>
  );
}
```

## âš–ï¸ Signals vs React ìƒíƒœ ê´€ë¦¬

| íŠ¹ì„±                | React ìƒíƒœ ê´€ë¦¬   | Preact Signals  |
| ------------------- | ----------------- | --------------- |
| **ì„¸ë°€í•œ ì—…ë°ì´íŠ¸** | ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„     | ê°’ ë‹¨ìœ„         |
| **ìƒíƒœ ìœ„ì¹˜**       | ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€     | ì–´ë””ì„œë‚˜ ê°€ëŠ¥   |
| **ì˜ì¡´ì„± ì¶”ì **     | ìˆ˜ë™(ì˜ì¡´ì„± ë°°ì—´) | ìë™            |
| **ìƒíƒœ ì ‘ê·¼**       | ì»¨í…ìŠ¤íŠ¸/Props    | ì§ì ‘ ì°¸ì¡°       |
| **ìµœì í™” ë°©ë²•**     | memo, useMemo ë“±  | ìë™ ìµœì í™”     |
| **ì½”ë“œ ë³µì¡ì„±**     | ìƒëŒ€ì ìœ¼ë¡œ ë†’ìŒ   | ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŒ |

Preactì˜ SignalsëŠ” Reactì˜ í›… ê¸°ë°˜ ì ‘ê·¼ë²•ê³¼ëŠ” ë‹¬ë¦¬, ë” ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ APIë¡œ ë°˜ì‘í˜• ìƒíƒœ ê´€ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.  
ë³µì¡í•œ ìµœì í™” ì—†ì´ë„ ë†’ì€ ì„±ëŠ¥ì„ ë‹¬ì„±í•  ìˆ˜ ìˆì–´, ë§ì€ ê°œë°œìë“¤ì´ Preactë¥¼ ì„ íƒí•˜ëŠ” ì£¼ìš” ì´ìœ  ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤!

{% endraw %}
