### Liu Hui의 π 알고리즘이란?

**Liu Hui의 π 알고리즘**은 기원후 263년경 중국 수학자 **Liu Hui**가 개발한 π(파이)의 값을 계산하는 고대 알고리즘입니다. 이 방법은 아르키메데스가 제안한 **내접 다각형 방법**에 기초하고 있으며, Liu Hui는 이를 개선하고 확장했습니다.

이 알고리즘의 핵심 아이디어는 점점 더 많은 변을 가진 다각형을 원 안에 내접시켜, 다각형의 둘레가 원의 둘레에 점점 가까워지게 하는 것입니다. 변의 개수가 증가할수록 다각형은 원과 비슷한 형태가 되어 그 둘레는 원의 둘레에 가까워지며, 따라서 π의 값도 더 정확해집니다.

Liu Hui는 처음에 원 안에 내접하는 육각형부터 시작하여 둘레를 계산했습니다. 이후 변의 개수를 6에서 12, 24, 48 등으로 두 배씩 늘리며 π의 값을 점점 더 정확하게 계산했습니다.

### Liu Hui 알고리즘의 단계

1. 내접 다각형(예: 육각형)으로 시작합니다.
2. 각 반복마다 변의 개수를 두 배로 늘립니다(예: 6 -> 12 -> 24 -> 48 등).
3. 다각형의 둘레를 계산합니다.
4. 이 둘레를 사용하여 π 값을 근사합니다. 변의 개수가 증가할수록 더 정확한 값을 얻을 수 있습니다.

수식으로 표현하면:
$
\pi \approx \frac{P}{2r}
$
여기서 $P$는 다각형의 둘레이고, $r$은 원의 반지름입니다.

### Liu Hui의 π 알고리즘의 사용 사례

1. **기하학**: 다각형과 원의 관계를 기하학적으로 이해하는 데 도움을 줍니다.
2. **수학사**: π 계산의 발전 과정에서 중요한 역사적 의미를 가지고 있습니다.
3. **수치 해석**: 반복적인 근사 방법을 보여주며, 이는 현대 수치 해석에서도 널리 사용됩니다.
4. **컴퓨터 그래픽스**: 곡선을 다각형으로 근사하는 방법은 현대 컴퓨터 그래픽스에서도 표준 기법입니다.

### JavaScript로 구현한 Liu Hui의 π 알고리즘

```javascript
function liuHuiPi(steps) {
  let sides = 6; // 육각형으로 시작
  let sideLength = 1; // 반지름이 1일 때 육각형의 변 길이

  for (let i = 0; i < steps; i++) {
    let halfSide = Math.sqrt(1 - Math.pow(sideLength / 2, 2));
    sideLength = Math.sqrt(
      Math.pow(sideLength / 2, 2) + Math.pow(1 - halfSide, 2)
    );
    sides *= 2; // 변의 개수를 두 배로 늘림
  }

  // 다각형의 둘레
  const perimeter = sides * sideLength;

  // π의 근사는 둘레를 지름(2 * 반지름)으로 나눈 값
  return perimeter / 2;
}

console.log(liuHuiPi(10)); // 더 많은 반복을 할수록 더 정확한 값
```

### Rust로 구현한 Liu Hui의 π 알고리즘

```rust
fn liu_hui_pi(steps: u32) -> f64 {
    let mut sides = 6.0; // 육각형으로 시작
    let mut side_length = 1.0; // 반지름이 1일 때 초기 육각형의 변 길이

    for _ in 0..steps {
        let half_side = (1.0 - (side_length / 2.0).powi(2)).sqrt();
        side_length = ((side_length / 2.0).powi(2) + (1.0 - half_side).powi(2)).sqrt();
        sides *= 2.0; // 변의 개수를 두 배로 늘림
    }

    // 다각형의 둘레
    let perimeter = sides * side_length;

    // π의 근사는 둘레를 지름(2 * 반지름)으로 나눈 값
    perimeter / 2.0
}

fn main() {
    println!("{}", liu_hui_pi(10)); // 더 많은 반복을 할수록 더 정확한 값
}
```

### 요약:

**Liu Hui의 π 알고리즘**은 내접하는 다각형을 이용해 π를 근사하는 반복적 기하학적 방법입니다. 각 반복에서 변의 개수를 늘리면 다각형의 둘레가 원의 둘레에 가까워지고, π의 값도 더 정확해집니다. 이 알고리즘은 역사적으로 중요하며, 현대 수치 해석의 개념을 보여줍니다. JavaScript와 Rust로 π 근사를 쉽게 구현할 수 있습니다.
